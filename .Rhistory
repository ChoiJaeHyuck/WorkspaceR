# changeCode() : 인코딩을 cp949로 변환, 원래 kormap1에 UTF-8로 인코딩 되어 있으나, 윈도우에서는 한글 깨짐 발생
str( changeCode( korpop1 ) )
# 한글 변수명 변경
korpop1 <- korpop1 %>%
rename( pop = 총인구_명,
name = 행정구역별_읍면동 )
str( changeCode( kormap1 ) )
korpop1$name <- iconv( korpop$name, "UTF-8", "CP949" )
ggChoropleth( data = korpop1,
aes( fill = pop,
map_id = code,
tooltip = name ),
map = kormap1,
interactive = T )
install.packages("devtools")
ggChoropleth(korpop2,kormap2,fillvar= "남자_명" )
korpop1 <- korpop1 %>%
rename( pop = 총인구_명,
name = 행정구역별_읍면동 )
str( changeCode( kormap1 ) )
korpop1$name <- iconv( korpop1$name, "UTF-8", "CP949" )
ggChoropleth( data = korpop1,
aes( fill = pop,
map_id = code,
tooltip = name ),
map = kormap1,
interactive = T )
ggChoropleth( korpop2, kormap2, fillvar = "남자_명" )
str( changeCode( korpop1 ) )
# 한글 변수명 변경
korpop1 <- korpop1 %>%
rename( pop = 총인구_명,
name = 행정구역별_읍면동 )
str( changeCode( kormap1 ) )
korpop1$name <- iconv( korpop1$name, "UTF-8", "CP949" )
ggChoropleth( data = korpop1,
aes( fill = pop,
map_id = code,
tooltip = name ),
map = kormap1,
interactive = T )
ggChoropleth( korpop2, kormap2, fillvar = "남자_명" )
install.packages( "remotes" )
install.packages("remotes")
remotes::install_github( 'heven-jeon/KoNLP', upgrade = "never",
INSTALL_opts = c( "--no-multiarch" ) )
remotes::install_github( "heaven-jeon/KoNLP", upgrade = "never",
INSTALL_opts = c( "--no-multiarch" ) )
remotes::install_github( "haven-jeon/KoNLP", upgrade = "never",
INSTALL_opts = c( "--no-multiarch" ) )
library( KoNLP )
useNIADic()
library( kormaps2014 )
library( dplyr )
str( changeCode( korpop1 ) )
korpop1 <- korpop1 %>%
rename( pop = 총인구_명,
name = 행정구역별_읍면동 )
str( changeCode( kormap1 ) )
korpop1$name <- iconv( korpop1$name, "UTF-8", "CP949" )
ggChoropleth( data = korpop1,
aes( fill = pop,
map_id = code,
tooltip = name ),
map = kormap1,
interactive = T )
library( tibble )                  # dplyr 패키지 설치시 자동 설치, 행을 변수로 변환 함수
library( ggiraphExtra )
library( maps )
library( mapproj )
library( ggplot2 )
dim( USArrests )
str( USArrests )
head( USArrests )
# tibble 패키지 rownames_to_colnum()을 이용하여 data( 행 )를 변수( 열 )로 변경
crime <- rownames_to_column( USArrests, var = "state" )
crime$state <- tolower( crime$state )
dim( crime )
str( crime )
# map 패키지의 미국 주별 위/경도를 나타내는 state 데이터를 ggplot2의 map_data()를 이용하여 data frame 생성
states_map <- map_data( 'state' )
str( states_map )
# 단계 구분도 작성
ggChoropleth( data = crime,                    # 지도에 표시
aes( fill = Murder,              # 색깔로 표현할 변수
map_id = state ),                # 지역 기준 변수
map = states_map,                # 지도 데이터
interactive =  T )               # 지도에 마우스 갖다 대면 정보가 뜸
# https://github.com/cardiomoon/kormaps2014
# 대한민국 지도 데이터를 이용한 단계 구분도
install.packages( "devtools" ) # R용 패키지 개발용 함수 모음
# R공식 저장소( CRAN )에 없는 경우 원하는 패키지 설치 방법
devtools::install_github( "cardiomoon/kormaps2014" )
library( kormaps2014 )
library( dplyr )
# kormaps2014 지도 데이터
# kormap1 : 한국 행정 지도( 시도별 )
# kormap2 : 한국 행정 지도( 시군구별 )
# kormap3 : 한국 행정 지도( 읍면동별 )
# kormaps2014 내장 dataset
# korpop1 : 2015년 인구 센서스 데이터( 시도별 )
# korpop2 : 2015년 인구 센서스 데이터( 시군구별 )
# korpop3 : 2015년 인구 센서스 데이터( 읍면동별 )
# changeCode() : 인코딩을 cp949로 변환, 원래 kormap1에 UTF-8로 인코딩 되어 있으나, 윈도우에서는 한글 깨짐 발생
str( changeCode( korpop1 ) )
# 한글 변수명 변경
korpop1 <- korpop1 %>%
rename( pop = 총인구_명,
name = 행정구역별_읍면동 )
str( changeCode( kormap1 ) )
korpop1$name <- iconv( korpop1$name, "UTF-8", "CP949" )
ggChoropleth( data = korpop1,
aes( fill = pop,
map_id = code,
tooltip = name ),
map = kormap1,
interactive = T )
ggChoropleth( korpop2, kormap2, fillvar = "남자_명" )
# 2.2 텍스트 마이닝( word cloud )
install.packages( "memories" )
install.packages( "KoNLP" )
# KoNLP : Korean Natural Language Processing ( 한글 자연어 처리 )
install.packages( "multilinguer" )
library( multilinguer )
install_jdk()
library( tibble )                  # dplyr 패키지 설치시 자동 설치, 행을 변수로 변환 함수
library( ggiraphExtra )
library( maps )
library( mapproj )
library( ggplot2 )
dim( USArrests )
str( USArrests )
head( USArrests )
crime <- rownames_to_column( USArrests, var = "state" )
crime$state <- tolower( crime$state )
dim( crime )
str( crime )
states_map <- map_data( 'state' )
str( states_map )
ggChoropleth( data = crime,                    # 지도에 표시
aes( fill = Murder,              # 색깔로 표현할 변수
map_id = state ),                # 지역 기준 변수
map = states_map,                # 지도 데이터
interactive =  T )
devtools::install_github( "cardiomoon/kormaps2014" )
library( kormaps2014 )
library( dplyr )
str( changeCode( korpop1 ) )
korpop1 <- korpop1 %>%
rename( pop = 총인구_명,
name = 행정구역별_읍면동 )
str( changeCode( kormap1 ) )
korpop1$name <- iconv( korpop1$name, "UTF-8", "CP949" )
ggChoropleth( data = korpop1,
aes( fill = pop,
map_id = code,
tooltip = name ),
map = kormap1,
interactive = T )
ggChoropleth( korpop2, kormap2, fillvar = "남자_명" )
install.packages( "memories" )
library( multilinguer )
remotes::install_github( "haven-jeon/KoNLP", upgrade = "never",
INSTALL_opts = c( "--no-multiarch" ) )
library( KoNLP )     # R용 한글 자연어 처리 패키지
useNIADic()          # 사용자 사전 설정
library( tibble )                  # dplyr 패키지 설치시 자동 설치, 행을 변수로 변환 함수
library( tibble )                  # dplyr 패키지 설치시 자동 설치, 행을 변수로 변환 함수
library( ggiraphExtra )
library( maps )
library( mapproj )
library( ggplot2 )
dim( USArrests )
str( USArrests )
head( USArrests )
crime <- rownames_to_column( USArrests, var = "state" )
crime$state <- tolower( crime$state )
dim( crime )
str( crime )
states_map <- map_data( 'state' )
str( states_map )
ggChoropleth( data = crime,                    # 지도에 표시
aes( fill = Murder,              # 색깔로 표현할 변수
map_id = state ),                # 지역 기준 변수
map = states_map,                # 지도 데이터
interactive =  T )               # 지도에 마우스 갖다 대면 정보가 뜸
ggChoropleth( data = crime,                    # 지도에 표시
aes( fill = Murder,              # 색깔로 표현할 변수
map_id = state ),                # 지역 기준 변수
map = states_map,                # 지도 데이터
interactive =  T )               # 지도에 마우스 갖다 대면 정보가 뜸
devtools::install_github( "cardiomoon/kormaps2014" )
library( kormaps2014 )
library( dplyr )
str( changeCode( korpop1 ) )
korpop1 <- korpop1 %>%
rename( pop = 총인구_명,
name = 행정구역별_읍면동 )
korpop1 <- korpop1 %>%
rename( pop = 총인구_명,
name = 행정구역별_읍면동 )
library( tibble )                  # dplyr 패키지 설치시 자동 설치, 행을 변수로 변환 함수
library( ggiraphExtra )
library( maps )
library( mapproj )
library( ggplot2 )
dim( USArrests )
str( USArrests )
head( USArrests )
# tibble 패키지 rownames_to_colnum()을 이용하여 data( 행 )를 변수( 열 )로 변경
crime <- rownames_to_column( USArrests, var = "state" )
crime$state <- tolower( crime$state )
dim( crime )
str( crime )
states_map <- map_data( 'state' )
str( states_map )
ggChoropleth( data = crime,                    # 지도에 표시
aes( fill = Murder,              # 색깔로 표현할 변수
map_id = state ),                # 지역 기준 변수
map = states_map,                # 지도 데이터
interactive =  T )               # 지도에 마우스 갖다 대면 정보가 뜸
devtools::install_github( "cardiomoon/kormaps2014" )
library( kormaps2014 )
library( dplyr )
str( changeCode( korpop1 ) )
korpop1 <- korpop1 %>%
rename( pop = 총인구_명,
name = 행정구역별_읍면동 )
ggChoropleth( data = crime,                    # 지도에 표시
aes( fill = Murder,              # 색깔로 표현할 변수
map_id = state ),                # 지역 기준 변수
map = states_map,                # 지도 데이터
interactive =  T )               # 지도에 마우스 갖다 대면 정보가 뜸
install.packages( "devtools" ) # R용 패키지 개발용 함수 모음
install.packages("devtools")
devtools::install_github( "cardiomoon/kormaps2014" )
library( kormaps2014 )
library( dplyr )
str( changeCode( korpop1 ) )
korpop1 <- korpop1 %>%
rename( pop = 총인구_명,
name = 행정구역별_읍면동 )
str( changeCode( kormap1 ) )
korpop1$name <- iconv( korpop1$name, "UTF-8", "CP949" )
ggChoropleth( data = korpop1,
aes( fill = pop,
map_id = code,
tooltip = name ),
map = kormap1,
interactive = T )
ggChoropleth( korpop2, kormap2, fillvar = "남자_명" )
library( multilinguer )
remotes::install_github( "haven-jeon/KoNLP", upgrade = "never",
INSTALL_opts = c( "--no-multiarch" ) )
remotes::install_github( "haven-jeon/KoNLP", upgrade = "never",
INSTALL_opts = c( "--no-multiarch" ) )
library( KoNLP )     # R용 한글 자연어 처리 패키지
useNIADic()          # 사용자 사전 설정
install.packages( "ggiraphExtra" )   # 단계구분도 작성을 위한 패키지
install.packages( "maps" )           # R에 내장된 미국 주별 위/경도 데이터
install.packages( "mapproj" )        # 위도( latitude ) / 경도( longitude ) 표시
Sys.setenv( JAVA_HOME = "" )
Sys.setenv( JAVA_HOME = "C:\\Java\\jdk1.8.0_251" )
iinstall.packages( "wordcloud" )
install.packages( "wordcloud" )
install.packages( "wordcloud2" )
install.packages( "RcolorBrewer" )
install.packages( "RColorBrewer" )
library( wordcloud )
library( wordcloud )
library( wordcloud2 )
library( RColorBrewer )
library( dplyr )
library( ggplot2 )
library( tibble )                  # dplyr 패키지 설치시 자동 설치, 행을 변수로 변환 함수
library( ggiraphExtra )
library( maps )
library( mapproj )
library( ggplot2 )
dim( USArrests )
str( USArrests )
head( USArrests )
crime <- rownames_to_column( USArrests, var = "state" )
crime$state <- tolower( crime$state )
dim( crime )
str( crime )
states_map <- map_data( 'state' )
str( states_map )
ggChoropleth( data = crime,                    # 지도에 표시
aes( fill = Murder,              # 색깔로 표현할 변수
map_id = state ),                # 지역 기준 변수
map = states_map,                # 지도 데이터
interactive =  T )
devtools::install_github( "cardiomoon/kormaps2014" )
library( kormaps2014 )
library( dplyr )
str( changeCode( korpop1 ) )
korpop1 <- korpop1 %>%
rename( pop = 총인구_명,
name = 행정구역별_읍면동 )
str( changeCode( kormap1 ) )
korpop1$name <- iconv( korpop1$name, "UTF-8", "CP949" )
ggChoropleth( data = korpop1,
aes( fill = pop,
map_id = code,
tooltip = name ),
map = kormap1,
interactive = T )
ggChoropleth( korpop2, kormap2, fillvar = "남자_명" )
library( multilinguer )
remotes::install_github( "haven-jeon/KoNLP", upgrade = "never",
INSTALL_opts = c( "--no-multiarch" ) )
library( KoNLP )     # R용 한글 자연어 처리 패키지
useNIADic()          # 사용자 사전 설정
setwd( "C:\\Workspace\\WorkspaceR" )
text <- readLines( 'mis_document.txt' )
text
korpop1$name <- iconv( korpop1$name, "UTF-8", "CP949" )
ggChoropleth( data = korpop1,
aes( fill = pop,
map_id = code,
tooltip = name ),
map = kormap1,
interactive = T )
ggChoropleth( korpop2, kormap2, fillvar = "남자_명" )
Sys.setenv( JAVA_HOME = "C:\\Java\\jdk1.8.0_251" )
text <- readLines( 'mis_document.txt' )
text
setwd( "C:\\Workspace\\WorkspaceR" )
text <- readLines( 'mis_document.txt' )
text
setwd( "C:\\Workspace\\WorkspaceR" )
text <- readLines( 'mis_document.txt' )
text
setwd( "C:\\Workspace\\WorkspaceR" )
text <- readLines( 'mis_document.txt' )
text
setwd( "C:\\Workspace\\WorkspaceR" )
text <- readLines( 'mis_document.txt', encoding = 'UTF-8' )
text
buildDictionary( ext_dic = 'woorimalsam' )
pal2 <- brewer.pal( 8, 'Dark2' )
noun <-  sapply( text, extractNoun, USE.NAMES = F )
noun
noun2 <- unlist( noun )
wordcount <- table( noun2 )
sort.noun <- sort( wordcount, decreasing = T)[ 1:10 ]
sort.noun
sort.noun <- sort.noun[-1]
barplot( sort.noun, names.arg = names( sort.noun ),
col = 'steelblue', main = '빈도수 높은 단어',
ylab = '단어 빈도수')
pal3 <- brewer.pal( 9, 'Blues' )[ 5:9 ]
wordcloud( names( wordcount ),
freq = wordcount,
main.freq = 3,
random.order = F,
rot.per = .1,
colors = pal3 )
pal3 <- brewer.pal( 9, 'Blues' )[ 5:9 ]                   # 색상 팔레트 생성
wordcloud( names( wordcount ),                            # 단어
freq = wordcount,                              # 단어 빈도
main.freq = 3,                                 # 단어 폰트 크기(최대,최소)
random.order = F,                              # 단어 최소 빈도
rot.per = .1,                                  # 90도 회전 단어 비율
colors = pal3 )                                # 단어색
buildDictionary( ext_dic = 'woorimalsam',
user_dic = data.fram( '정치', 'ncn' ),
replace_usr_dic = T )
noun <- sapply( text, extractNoun, USE.NAMES = F )
noun2 <- unlist( noun2 )
# 1. 불필요한 단어 삭제
noun2 <- noun2[ nchar( noun2 ) > 1 ]
noun2 <- gsub( '하지','', noun2 )
noun2 <- goub( '때문', '', noun2 )
wordcount <- table( noun2 )
wordcloud( names( wordcount ), freq = wordcount,
scale = c( 6, 0.7 ), main.freq = 3,
random.order = F, rot.per = .1, colors = pal3 )
noun2 <- noun2[ nchar( noun2 ) > 1 ]
noun2 <- gsub( '하지','', noun2 )
noun2 <- goub( '때문','', noun2 )
wordcount <- table( noun2 )
wordcloud( names( wordcount ), freq = wordcount,
scale = c( 6, 0.7 ), main.freq = 3,
random.order = F, rot.per = .1, colors = pal3 )
pal3 <- brewer.pal( 9, 'Blues' )[ 5:9 ]                   # 색상 팔레트 생성
wordcloud( names( wordcount ),                            # 단어
freq = wordcount,                              # 단어 빈도
main.freq = 3,                                 # 단어 폰트 크기(최대,최소)
random.order = F,                              # 단어 최소 빈도
rot.per = .1,                                  # 90도 회전 단어 비율
colors = pal3 )                                # 단어색
# 한글 Word Cloud를 위한 전처리
# 1. 불필요한 단어 삭제
# 2. 생략된 단어를 사전에 등재
buildDictionary( ext_dic = 'woorimalsam',
user_dic = data.fram( '정치', 'ncn' ),
replace_usr_dic = T )
noun <- sapply( text, extractNoun, USE.NAMES = F )
noun2 <- unlist( noun2 )
# 1. 불필요한 단어 삭제
noun2 <- noun2[ nchar( noun2 ) > 1 ]
noun2 <- gsub( '하지','', noun2 )
noun2 <- goub( '때문','', noun2 )
wordcount <- table( noun2 )
wordcloud( names( wordcount ), freq = wordcount,
scale = c( 6, 0.7 ), main.freq = 3,
random.order = F, rot.per = .1, colors = pal3 )
noun2 <- noun2[ nchar( noun2 ) > 1 ]
noun2 <- gsub( '하지','', noun2 )
noun2 <- goub( '때문','', noun2 )
buildDictionary( ext_dic = 'woorimalsam',
user_dic = data.fram( '정치', 'ncn' ),
replace_usr_dic = T )
noun <- sapply( text, extractNoun, USE.NAMES = F )
noun2 <- unlist( noun2 )
buildDictionary( ext_dic = 'woorimalsam',
user_dic = data.frame( '정치', 'ncn' ),
replace_usr_dic = T )
noun <- sapply( text, extractNoun, USE.NAMES = F )
noun2 <- unlist( noun2 )
noun2 <- noun2[ nchar( noun2 ) > 1 ]
noun2 <- gsub( '하지','', noun2 )
noun2 <- goub( '때문','', noun2 )
wordcount <- table( noun2 )
wordcloud( names( wordcount ), freq = wordcount,
scale = c( 6, 0.7 ), main.freq = 3,
random.order = F, rot.per = .1, colors = pal3 )
wordcloud2( wordcount, color = 'random-light',
backgroundColor = 'Black' )
buildDictionary( ext_dic = 'woorimalsam',
user_dic = data.frame( '정치', 'ncn' ),
replace_usr_dic = T )
noun <- sapply( text, extractNoun, USE.NAMES = F )
noun2 <- unlist( noun2 )
pal3 <- brewer.pal( 9, 'Blues' )[ 5:9 ]                   # 색상 팔레트 생성
wordcloud( names( wordcount ),                            # 단어
freq = wordcount,                              # 단어 빈도
main.freq = 3,                                 # 단어 폰트 크기(최대,최소)
random.order = F,                              # 단어 최소 빈도
rot.per = .1,                                  # 90도 회전 단어 비율
colors = pal3 )                                # 단어색
buildDictionary( ext_dic = 'woorimalsam',
user_dic = data.frame( '정치', 'ncn' ),
replace_usr_dic = T )
noun <- sapply( text, extractNoun, USE.NAMES = F )
noun2 <- unlist( noun2 )
# 1. 불필요한 단어 삭제
noun2 <- noun2[ nchar( noun2 ) > 1 ]
noun2 <- gsub( '하지','', noun2 )
noun2 <- goub( '때문','', noun2 )
wordcount <- table( noun2 )
wordcloud( names( wordcount ), freq = wordcount,
scale = c( 6, 0.7 ), main.freq = 3,
random.order = F, rot.per = .1, colors = pal3 )
wordcloud2( wordcount, color = 'random-light',
backgroundColor = 'Black' )
wordcloud2( wordcount, fontFamily = '맑은 고딕',
size = 1.2, color = 'random-light',
backgroundColor = 'black',
shape = 'star')
wordcloud2( wordcount, color = 'random-light',
backgroundColor = 'black' )
noun2 <- noun2[ nchar( noun2 ) > 1 ]
noun2 <- gsub( '하지','', noun2 )
noun2 <- goub( '때문','', noun2 )
wordcount <- table( noun2 )
wordcloud( names( wordcount ), freq = wordcount,
scale = c( 6, 0.7 ), main.freq = 3,
random.order = F, rot.per = .1, colors = pal3 )
wordcloud2( demoFreq, size = 1.6,
color = rep_len( c('red', 'blue' ),
nrow( wordcount ) ) )
noun2 <- noun2[ nchar( noun2 ) > 1 ]
noun2 <- gsub( '하지','', noun2 )
noun2 <- goub( '때문','', noun2 )
wordcount <- table( noun2 )
wordcloud( names( wordcount ), freq = wordcount,
scale = c( 6, 0.7 ), main.freq = 3,
random.order = F, rot.per = .1, colors = pal3 )
wordcloud2( wordcount, size = 1.6,
color = rep_len( c('red', 'blue' ),
nrow( wordcount ) ) )
wordcloud2( wordcout,
minRotation = -pi / 6,
maxRotation = -pi / 6,
rotateRatio = 1 )
wordcloud2( wordcount,
minRotation = -pi / 6,
maxRotation = -pi / 6,
rotateRatio = 1 )
noun2 <- noun2[ nchar( noun2 ) > 1 ]
noun2 <- gsub( '하지','', noun2 )
noun2 <- goub( '때문','', noun2 )
wordcount <- table( noun2 )
wordcloud( names( wordcount ), freq = wordcount,
scale = c( 6, 0.7 ), main.freq = 3,
random.order = F, rot.per = .1, colors = pal3 )
noun2 <- noun2[ nchar( noun2 ) > 1 ]
noun2 <- gsub( '하지','', noun2 )
wordcount <- table( noun2 )
wordcloud( names( wordcount ), freq = wordcount,
scale = c( 6, 0.7 ), main.freq = 3,
random.order = F, rot.per = .1, colors = pal3 )
noun2 <- noun2[ nchar( noun2 ) > 1 ]
noun2 <- goub( '때문','', noun2 )
noun2 <- gsub( '때문','', noun2 )
wordcount <- table( noun2 )
wordcloud( names( wordcount ), freq = wordcount,
scale = c( 6, 0.7 ), main.freq = 3,
random.order = F, rot.per = .1, colors = pal3 )
